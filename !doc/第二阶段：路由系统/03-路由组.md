# 路由组（Route Groups）

## 3.1 什么是路由组？

路由组（Route Groups）使用圆括号 `(folderName)` 语法，用于组织路由但不影响 URL 路径。

**关键特点：**
- 使用圆括号 `(folderName)` 创建
- **不影响 URL 路径**：路由组名称不会出现在 URL 中
- 用于组织不同功能模块的路由

---

## 3.2 路由组的语法

### 基本语法

```text
app/
└── (groupName)/
    └── page.tsx
```

**URL 路径：** `/`（注意：路由组名称不包含在 URL 中）

### 实际示例

```text
app/
└── (marketing)/
    ├── about/
    │   └── page.tsx      # URL: /about（不是 /(marketing)/about）
    └── contact/
        └── page.tsx      # URL: /contact（不是 /(marketing)/contact）
```

---

## 3.3 为什么使用路由组？

### 使用场景

1. **组织不同功能模块的路由**
2. **为不同模块创建不同的布局**
3. **代码组织更清晰**

### 实际应用

**场景：电商网站**

```text
app/
├── (marketing)/          # 营销页面组
│   ├── layout.tsx        # 营销页面布局（导航栏、页脚）
│   ├── about/
│   │   └── page.tsx      # /about
│   └── contact/
│       └── page.tsx      # /contact
└── (shop)/               # 商店页面组
    ├── layout.tsx        # 商店页面布局（侧边栏、购物车）
    ├── products/
    │   └── page.tsx      # /products
    └── cart/
        └── page.tsx      # /cart
```

---

## 3.4 实际示例

### 示例 1：营销页面组

**目录结构：**

```text
app/
└── (marketing)/
    ├── layout.tsx        # 营销页面布局
    ├── about/
    │   └── page.tsx      # /about
    ├── contact/
    │   └── page.tsx      # /contact
    └── pricing/
        └── page.tsx      # /pricing
```

**营销布局：**

```typescript
// app/(marketing)/layout.tsx
export default function MarketingLayout({
  children,
}: {
  children: React.ReactNode
}) {
  return (
    <div>
      <header>
        <nav>
          <a href="/about">关于</a>
          <a href="/contact">联系</a>
          <a href="/pricing">价格</a>
        </nav>
      </header>
      <main>{children}</main>
      <footer>
        <p>&copy; 2024 公司名称</p>
      </footer>
    </div>
  )
}
```

**关于页面：**

```typescript
// app/(marketing)/about/page.tsx
export default function AboutPage() {
  return (
    <div>
      <h1>关于我们</h1>
      <p>这是关于页面的内容</p>
    </div>
  )
}
```

**访问 URL：**
- `/about` - 显示关于页面（注意：URL 中没有 `(marketing)`）
- `/contact` - 显示联系页面
- `/pricing` - 显示价格页面

---

### 示例 2：商店页面组

**目录结构：**

```text
app/
└── (shop)/
    ├── layout.tsx        # 商店页面布局
    ├── products/
    │   └── page.tsx      # /products
    └── cart/
        └── page.tsx      # /cart
```

**商店布局：**

```typescript
// app/(shop)/layout.tsx
export default function ShopLayout({
  children,
}: {
  children: React.ReactNode
}) {
  return (
    <div>
      <aside>
        <nav>
          <a href="/products">产品</a>
          <a href="/cart">购物车</a>
        </nav>
      </aside>
      <main>{children}</main>
    </div>
  )
}
```

---

### 示例 3：多个路由组

**目录结构：**

```text
app/
├── (marketing)/
│   ├── layout.tsx
│   ├── about/
│   └── contact/
├── (shop)/
│   ├── layout.tsx
│   ├── products/
│   └── cart/
└── (dashboard)/
    ├── layout.tsx
    ├── profile/
    └── settings/
```

**每个路由组都有自己的布局：**
- `(marketing)` 组：营销页面布局
- `(shop)` 组：商店页面布局
- `(dashboard)` 组：仪表板布局

---

## 3.5 路由组与布局

### 为路由组创建专用布局

路由组最常见的用途是为不同的功能模块创建不同的布局：

```text
app/
├── (marketing)/
│   ├── layout.tsx        # 只影响 (marketing) 组内的路由
│   ├── about/
│   └── contact/
└── (shop)/
    ├── layout.tsx        # 只影响 (shop) 组内的路由
    └── products/
```

**布局嵌套：**

```typescript
// app/layout.tsx - 根布局
export default function RootLayout({ children }) {
  return (
    <html>
      <body>
        {children}
      </body>
    </html>
  )
}

// app/(marketing)/layout.tsx - 营销布局
export default function MarketingLayout({ children }) {
  return (
    <div>
      <header>营销导航</header>
      <main>{children}</main>
      <footer>营销页脚</footer>
    </div>
  )
}

// app/(marketing)/about/page.tsx
export default function AboutPage() {
  return <h1>关于我们</h1>
}
```

**渲染结果：**

```html
<html>
  <body>
    <div>
      <header>营销导航</header>
      <main>
        <h1>关于我们</h1>
      </main>
      <footer>营销页脚</footer>
    </div>
  </body>
</html>
```

---

## 3.6 路由组的命名规则

### 命名建议

- 使用描述性的名称：`(marketing)`、`(shop)`、`(dashboard)`
- 使用小写字母
- 使用连字符分隔多个单词：`(user-dashboard)`

### 示例

```text
app/
├── (marketing)/          # ✅ 推荐
├── (user-dashboard)/     # ✅ 推荐
├── (admin-panel)/        # ✅ 推荐
└── (Marketing)/          # ⚠️ 不推荐（虽然可以，但建议小写）
```

---

## 3.7 路由组 vs 普通文件夹

### 对比

| 特性 | 路由组 `(folder)` | 普通文件夹 `folder` |
|------|------------------|-------------------|
| **URL 路径** | 不包含在 URL 中 | 包含在 URL 中 |
| **用途** | 组织路由 | 创建路由路径 |
| **示例** | `(marketing)/about` → `/about` | `marketing/about` → `/marketing/about` |

### 示例对比

```text
# 使用路由组
app/
└── (marketing)/
    └── about/
        └── page.tsx      # URL: /about

# 使用普通文件夹
app/
└── marketing/
    └── about/
        └── page.tsx      # URL: /marketing/about
```

---

## 3.8 实践练习

### 练习 1：创建营销页面组

1. 创建 `(marketing)` 路由组
2. 在组内创建 `about` 和 `contact` 页面
3. 为路由组创建专用布局

### 练习 2：创建商店页面组

1. 创建 `(shop)` 路由组
2. 在组内创建 `products` 和 `cart` 页面
3. 为路由组创建专用布局

---

## 3.9 总结

### 关键要点

1. **路由组语法**：使用圆括号 `(folderName)` 创建
2. **不影响 URL**：路由组名称不会出现在 URL 中
3. **组织路由**：用于组织不同功能模块的路由
4. **专用布局**：可以为路由组创建专用的布局
5. **命名规则**：使用描述性的小写名称

### 使用场景

- ✅ 组织不同功能模块的路由
- ✅ 为不同模块创建不同的布局
- ✅ 代码组织更清晰
- ✅ 需要共享布局但不影响 URL 路径

### 下一步

完成路由组学习后，可以学习**并行路由和拦截路由**，了解 Next.js 的高级路由特性。

