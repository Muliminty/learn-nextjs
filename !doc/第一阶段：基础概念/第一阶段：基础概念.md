# ç¬¬ä¸€é˜¶æ®µï¼šåŸºç¡€æ¦‚å¿µ

## 1. Next.js ç®€ä»‹ä¸ç¯å¢ƒæ­å»º

### 1.1 Next.js æ˜¯ä»€ä¹ˆï¼Ÿ

Next.js æ˜¯ä¸€ä¸ªåŸºäº React çš„å…¨æ ˆæ¡†æ¶ï¼Œç”± Vercel å¼€å‘ã€‚å®ƒæä¾›äº†ï¼š

- **æœåŠ¡ç«¯æ¸²æŸ“ï¼ˆSSRï¼‰**ï¼šåœ¨æœåŠ¡å™¨ä¸Šæ¸²æŸ“ React ç»„ä»¶
- **é™æ€ç«™ç‚¹ç”Ÿæˆï¼ˆSSGï¼‰**ï¼šåœ¨æ„å»ºæ—¶ç”Ÿæˆé™æ€é¡µé¢
- **API è·¯ç”±**ï¼šæ— éœ€å•ç‹¬çš„åç«¯æœåŠ¡å™¨ï¼Œå¯ä»¥åœ¨ Next.js ä¸­åˆ›å»º API
- **æ–‡ä»¶ç³»ç»Ÿè·¯ç”±**ï¼šåŸºäºæ–‡ä»¶ç»“æ„è‡ªåŠ¨åˆ›å»ºè·¯ç”±
- **è‡ªåŠ¨ä»£ç åˆ†å‰²**ï¼šä¼˜åŒ–æ€§èƒ½ï¼ŒåªåŠ è½½éœ€è¦çš„ä»£ç 
- **å†…ç½® CSS æ”¯æŒ**ï¼šæ”¯æŒ CSS Modulesã€Tailwind CSS ç­‰

### 1.2 ç¯å¢ƒæ­å»º

#### å‰ç½®è¦æ±‚

- Node.js 18+
- npmã€yarn æˆ– pnpm

#### åˆ›å»º Next.js é¡¹ç›®

```bash
# ä½¿ç”¨ create-next-app åˆ›å»ºé¡¹ç›®
npx create-next-app@latest learn-nextjs

# é€‰æ‹©é…ç½®é€‰é¡¹ï¼š
# - TypeScript: Yes
# - ESLint: Yes
# - Tailwind CSS: Yes
# - App Router: Yes
# - src/ directory: Noï¼ˆä½¿ç”¨æ ¹ç›®å½•çš„ app/ï¼‰
# - import alias: @/*
```

#### å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
cd learn-nextjs
npm run dev
```

è®¿é—® [http://localhost:3000](http://localhost:3000) æŸ¥çœ‹åº”ç”¨ã€‚

---

## 2. é¡¹ç›®ç»“æ„ç†è§£

### 2.1 æ ¸å¿ƒç›®å½•ç»“æ„

```text
learn-nextjs/
â”œâ”€â”€ app/                    # App Router ç›®å½•ï¼ˆæ ¸å¿ƒï¼‰
â”‚   â”œâ”€â”€ layout.tsx         # æ ¹å¸ƒå±€
â”‚   â”œâ”€â”€ page.tsx           # é¦–é¡µ
â”‚   â”œâ”€â”€ globals.css        # å…¨å±€æ ·å¼
â”‚   â”œâ”€â”€ api/               # API è·¯ç”±
â”‚   â””â”€â”€ components/        # ç»„ä»¶ç›®å½•
â”œâ”€â”€ public/                # é™æ€èµ„æºï¼ˆå›¾ç‰‡ã€å­—ä½“ç­‰ï¼‰
â”œâ”€â”€ next.config.js         # Next.js é…ç½®æ–‡ä»¶
â”œâ”€â”€ tsconfig.json          # TypeScript é…ç½®
â”œâ”€â”€ tailwind.config.ts     # Tailwind CSS é…ç½®
â””â”€â”€ package.json           # é¡¹ç›®ä¾èµ–
```

### 2.2 é‡è¦æ–‡ä»¶è¯´æ˜

- **`app/layout.tsx`**ï¼šæ ¹å¸ƒå±€ç»„ä»¶ï¼Œæ‰€æœ‰é¡µé¢éƒ½ä¼šä½¿ç”¨è¿™ä¸ªå¸ƒå±€
- **`app/page.tsx`**ï¼šé¦–é¡µç»„ä»¶ï¼Œå¯¹åº”è·¯ç”± `/`
- **`app/globals.css`**ï¼šå…¨å±€æ ·å¼æ–‡ä»¶
- **`app/api/`**ï¼šAPI è·¯ç”±ç›®å½•ï¼Œç”¨äºåˆ›å»ºåç«¯ API
- **`public/`**ï¼šé™æ€èµ„æºç›®å½•ï¼Œå¯é€šè¿‡ `/æ–‡ä»¶å` ç›´æ¥è®¿é—®

---

## 2.3 è§„èŒƒçš„ç›®å½•ç»“æ„è¯¦è§£

### å®Œæ•´çš„æ¨èç›®å½•ç»“æ„

```text
learn-nextjs/
â”œâ”€â”€ app/                           # App Router æ ¸å¿ƒç›®å½•
â”‚   â”œâ”€â”€ (auth)/                    # è·¯ç”±ç»„ï¼šè®¤è¯ç›¸å…³é¡µé¢ï¼ˆä¸å½±å“ URLï¼‰
â”‚   â”‚   â”œâ”€â”€ login/
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx           # è·¯ç”±ï¼š/login
â”‚   â”‚   â””â”€â”€ register/
â”‚   â”‚       â””â”€â”€ page.tsx           # è·¯ç”±ï¼š/register
â”‚   â”œâ”€â”€ (marketing)/               # è·¯ç”±ç»„ï¼šè¥é”€é¡µé¢
â”‚   â”‚   â”œâ”€â”€ about/
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx           # è·¯ç”±ï¼š/about
â”‚   â”‚   â””â”€â”€ contact/
â”‚   â”‚       â””â”€â”€ page.tsx          # è·¯ç”±ï¼š/contact
â”‚   â”œâ”€â”€ blog/                      # åšå®¢åŠŸèƒ½æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ page.tsx               # è·¯ç”±ï¼š/blogï¼ˆåšå®¢åˆ—è¡¨ï¼‰
â”‚   â”‚   â”œâ”€â”€ BlogList.tsx           # å±€éƒ¨ç»„ä»¶ï¼ˆåªç”¨äºåšå®¢é¡µé¢ï¼‰
â”‚   â”‚   â””â”€â”€ [slug]/                # åŠ¨æ€è·¯ç”±
â”‚   â”‚       â”œâ”€â”€ page.tsx          # è·¯ç”±ï¼š/blog/[slug]
â”‚   â”‚       â””â”€â”€ BlogHeader.tsx    # å±€éƒ¨ç»„ä»¶ï¼ˆåªç”¨äºè¯¦æƒ…é¡µï¼‰
â”‚   â”œâ”€â”€ dashboard/                 # ä»ªè¡¨æ¿åŠŸèƒ½æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ layout.tsx            # åµŒå¥—å¸ƒå±€ï¼ˆ/dashboard/* å…±äº«ï¼‰
â”‚   â”‚   â”œâ”€â”€ page.tsx              # è·¯ç”±ï¼š/dashboard
â”‚   â”‚   â””â”€â”€ settings/
â”‚   â”‚       â””â”€â”€ page.tsx          # è·¯ç”±ï¼š/dashboard/settings
â”‚   â”œâ”€â”€ api/                       # API è·¯ç”±ç›®å½•
â”‚   â”‚   â”œâ”€â”€ users/
â”‚   â”‚   â”‚   â””â”€â”€ route.ts          # APIï¼š/api/users
â”‚   â”‚   â””â”€â”€ posts/
â”‚   â”‚       â””â”€â”€ route.ts          # APIï¼š/api/posts
â”‚   â”œâ”€â”€ components/                # å…±äº«ç»„ä»¶ç›®å½•ï¼ˆåœ¨ app å†…éƒ¨ï¼‰
â”‚   â”‚   â”œâ”€â”€ ui/                    # åŸºç¡€ UI ç»„ä»¶ï¼ˆå¤šä¸ªé¡µé¢ä½¿ç”¨ï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ Button.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Card.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Input.tsx
â”‚   â”‚   â”‚   â””â”€â”€ Modal.tsx
â”‚   â”‚   â”œâ”€â”€ layout/                # å¸ƒå±€ç»„ä»¶ï¼ˆå¤šä¸ªé¡µé¢ä½¿ç”¨ï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ Header.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Footer.tsx
â”‚   â”‚   â”‚   â””â”€â”€ Sidebar.tsx
â”‚   â”‚   â””â”€â”€ features/              # åŠŸèƒ½ç»„ä»¶ï¼ˆå¤šä¸ªé¡µé¢ä½¿ç”¨ï¼‰
â”‚   â”‚       â”œâ”€â”€ UserProfile.tsx
â”‚   â”‚       â””â”€â”€ SearchBar.tsx
â”‚   â”œâ”€â”€ lib/                       # å·¥å…·å‡½æ•°å’Œé…ç½®
â”‚   â”‚   â”œâ”€â”€ utils.ts              # é€šç”¨å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ db.ts                 # æ•°æ®åº“è¿æ¥
â”‚   â”‚   â”œâ”€â”€ auth.ts               # è®¤è¯ç›¸å…³
â”‚   â”‚   â””â”€â”€ constants.ts          # å¸¸é‡å®šä¹‰
â”‚   â”œâ”€â”€ hooks/                     # è‡ªå®šä¹‰ Hooksï¼ˆå®¢æˆ·ç«¯ï¼‰
â”‚   â”‚   â”œâ”€â”€ useAuth.ts
â”‚   â”‚   â””â”€â”€ useLocalStorage.ts
â”‚   â”œâ”€â”€ types/                     # TypeScript ç±»å‹å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ index.ts
â”‚   â”‚   â”œâ”€â”€ user.ts
â”‚   â”‚   â””â”€â”€ post.ts
â”‚   â”œâ”€â”€ styles/                    # æ ·å¼æ–‡ä»¶ï¼ˆå¯é€‰ï¼‰
â”‚   â”‚   â””â”€â”€ components.module.css
â”‚   â”œâ”€â”€ layout.tsx                 # æ ¹å¸ƒå±€
â”‚   â”œâ”€â”€ page.tsx                   # é¦–é¡µï¼ˆè·¯ç”±ï¼š/ï¼‰
â”‚   â”œâ”€â”€ globals.css                # å…¨å±€æ ·å¼
â”‚   â”œâ”€â”€ loading.tsx                # å…¨å±€åŠ è½½çŠ¶æ€
â”‚   â”œâ”€â”€ error.tsx                  # å…¨å±€é”™è¯¯é¡µé¢
â”‚   â””â”€â”€ not-found.tsx              # 404 é¡µé¢
â”œâ”€â”€ public/                        # é™æ€èµ„æºç›®å½•
â”‚   â”œâ”€â”€ images/                    # å›¾ç‰‡èµ„æº
â”‚   â”œâ”€â”€ icons/                     # å›¾æ ‡èµ„æº
â”‚   â””â”€â”€ fonts/                     # å­—ä½“æ–‡ä»¶
â”œâ”€â”€ .env.local                     # ç¯å¢ƒå˜é‡ï¼ˆä¸æäº¤åˆ° Gitï¼‰
â”œâ”€â”€ .env.example                   # ç¯å¢ƒå˜é‡ç¤ºä¾‹
â”œâ”€â”€ .gitignore
â”œâ”€â”€ .prettierrc                    # Prettier é…ç½®
â”œâ”€â”€ .eslintrc.json                 # ESLint é…ç½®
â”œâ”€â”€ next.config.ts                 # Next.js é…ç½®
â”œâ”€â”€ tsconfig.json                  # TypeScript é…ç½®
â”œâ”€â”€ tailwind.config.ts             # Tailwind é…ç½®
â”œâ”€â”€ package.json
â””â”€â”€ README.md
```

---

### æ ¸å¿ƒç›®å½•è¯¦è§£

#### 1. `app/` ç›®å½• - App Router æ ¸å¿ƒ

**ä½œç”¨**ï¼šNext.js App Router çš„æ ¸å¿ƒç›®å½•ï¼Œæ‰€æœ‰è·¯ç”±å’Œé¡µé¢éƒ½åœ¨è¿™é‡Œå®šä¹‰ã€‚

**è§„èŒƒ**ï¼š

- âœ… å¿…é¡»æ”¾åœ¨é¡¹ç›®æ ¹ç›®å½•
- âœ… æ–‡ä»¶å¤¹ç»“æ„ = è·¯ç”±è·¯å¾„
- âœ… ç‰¹æ®Šæ–‡ä»¶åæœ‰ç‰¹æ®ŠåŠŸèƒ½ï¼ˆ`page.tsx`ã€`layout.tsx` ç­‰ï¼‰

**é‡è¦è§„åˆ™**ï¼š

- æ¯ä¸ªè·¯ç”±æ–‡ä»¶å¤¹å¿…é¡»åŒ…å« `page.tsx`
- åªæœ‰ `app/` ç›®å½•ä¸‹çš„æ–‡ä»¶å¤¹ç»“æ„ä¼šå½±å“è·¯ç”±
- ä½¿ç”¨è·¯ç”±ç»„ `(folderName)` ç»„ç»‡ä½†ä¸å½±å“ URL

**ç¤ºä¾‹**ï¼š

```text
app/
â”œâ”€â”€ page.tsx              â†’ è·¯ç”±ï¼š/
â”œâ”€â”€ about/
â”‚   â””â”€â”€ page.tsx          â†’ è·¯ç”±ï¼š/about
â””â”€â”€ blog/
    â”œâ”€â”€ page.tsx          â†’ è·¯ç”±ï¼š/blog
    â””â”€â”€ [id]/
        â””â”€â”€ page.tsx      â†’ è·¯ç”±ï¼š/blog/[id]
```

---

#### 2. `app/components/` ç›®å½• - å…±äº«ç»„ä»¶

**ä½œç”¨**ï¼šå­˜æ”¾å¯ä»¥åœ¨å¤šä¸ªè·¯ç”±ä¸­å¤ç”¨çš„ç»„ä»¶ã€‚

**è§„èŒƒ**ï¼š

- âœ… å¿…é¡»æ”¾åœ¨ `app/` å†…éƒ¨ï¼ˆä¸æ˜¯ä¸ `app/` åŒçº§ï¼‰
- âœ… æŒ‰åŠŸèƒ½åˆ†ç±»ç»„ç»‡ï¼ˆ`ui/`ã€`layout/`ã€`features/`ï¼‰
- âœ… ä½¿ç”¨é€šç”¨å‘½åï¼ˆå¦‚ `Button`ã€`Card`ï¼Œä¸è¦å¸¦è·¯ç”±å‰ç¼€ï¼‰

**ç›®å½•ç»“æ„**ï¼š

```text
app/components/
â”œâ”€â”€ ui/                    # åŸºç¡€ UI ç»„ä»¶ï¼ˆButtonã€Inputã€Card ç­‰ï¼‰
â”œâ”€â”€ layout/                # å¸ƒå±€ç»„ä»¶ï¼ˆHeaderã€Footerã€Sidebar ç­‰ï¼‰
â””â”€â”€ features/              # åŠŸèƒ½ç»„ä»¶ï¼ˆUserProfileã€SearchBar ç­‰ï¼‰
```

**ä½¿ç”¨åœºæ™¯**ï¼š

- ç»„ä»¶éœ€è¦åœ¨ 2 ä¸ªæˆ–æ›´å¤šè·¯ç”±ä¸­ä½¿ç”¨
- ç»„ä»¶æ˜¯é€šç”¨çš„ UI å…ƒç´ 
- ç»„ä»¶åç§°ä¸åŒ…å«ç‰¹å®šè·¯ç”±å‰ç¼€

**å¯¼å…¥æ–¹å¼**ï¼š

```typescript
import Button from '@/app/components/ui/Button'
import Header from '@/app/components/layout/Header'
```

**âŒ ä¸æ¨èçš„åšæ³•**ï¼š

```text
# ä¸è¦ä¸ app åŒçº§
components/          # âŒ ä¸æ¨è
app/
```

---

#### 3. è·¯ç”±æ–‡ä»¶å¤¹å†…çš„ç»„ä»¶ - å±€éƒ¨ç»„ä»¶

**ä½œç”¨**ï¼šå­˜æ”¾åªç”¨äºè¯¥è·¯ç”±çš„ç»„ä»¶ã€‚

**è§„èŒƒ**ï¼š

- âœ… ç›´æ¥æ”¾åœ¨è·¯ç”±æ–‡ä»¶å¤¹å†…ï¼ˆä¸è¦åˆ›å»º `components/` å­ç›®å½•ï¼‰
- âœ… ä½¿ç”¨å¸¦è·¯ç”±å‰ç¼€çš„å‘½åï¼ˆå¦‚ `AboutHeader`ã€`BlogPostCard`ï¼‰
- âœ… ä½¿ç”¨ç›¸å¯¹è·¯å¾„å¯¼å…¥

**ç¤ºä¾‹ç»“æ„**ï¼š

```text
app/blog/
â”œâ”€â”€ page.tsx
â”œâ”€â”€ BlogList.tsx          # âœ… ç›´æ¥æ”¾åœ¨è·¯ç”±æ–‡ä»¶å¤¹å†…
â””â”€â”€ [slug]/
    â”œâ”€â”€ page.tsx
    â””â”€â”€ BlogHeader.tsx    # âœ… ç›´æ¥æ”¾åœ¨è·¯ç”±æ–‡ä»¶å¤¹å†…
```

**âŒ ä¸æ¨èçš„åšæ³•**ï¼š

```text
app/blog/[slug]/
â”œâ”€â”€ components/           # âŒ ä¸è¦åˆ›å»º components å­ç›®å½•
â”‚   â””â”€â”€ BlogHeader.tsx
â””â”€â”€ page.tsx
```

**å¯¼å…¥æ–¹å¼**ï¼š

```typescript
// app/blog/page.tsx
import BlogList from './BlogList'  // âœ… ç›¸å¯¹è·¯å¾„

// app/blog/[slug]/page.tsx
import BlogHeader from './BlogHeader'  // âœ… ç›¸å¯¹è·¯å¾„
```

**ä½¿ç”¨åœºæ™¯**ï¼š

- ç»„ä»¶åªç”¨äºè¯¥è·¯ç”±
- ç»„ä»¶åŒ…å«è¯¥è·¯ç”±ç‰¹å®šçš„ä¸šåŠ¡é€»è¾‘
- ç»„ä»¶åç§°åŒ…å«è·¯ç”±å‰ç¼€

---

#### 4. `app/lib/` ç›®å½• - å·¥å…·å‡½æ•°

**ä½œç”¨**ï¼šå­˜æ”¾å·¥å…·å‡½æ•°ã€é…ç½®å’Œä¸šåŠ¡é€»è¾‘ã€‚

**è§„èŒƒ**ï¼š

- âœ… æ”¾åœ¨ `app/` å†…éƒ¨
- âœ… æŒ‰åŠŸèƒ½æ¨¡å—ç»„ç»‡æ–‡ä»¶
- âœ… ä½¿ç”¨ camelCase å‘½å

**å¸¸è§æ–‡ä»¶**ï¼š

```text
app/lib/
â”œâ”€â”€ utils.ts              # é€šç”¨å·¥å…·å‡½æ•°
â”œâ”€â”€ db.ts                 # æ•°æ®åº“è¿æ¥å’Œæ“ä½œ
â”œâ”€â”€ auth.ts               # è®¤è¯ç›¸å…³å‡½æ•°
â”œâ”€â”€ api.ts                # API è°ƒç”¨å‡½æ•°
â””â”€â”€ constants.ts          # å¸¸é‡å®šä¹‰
```

**å¯¼å…¥æ–¹å¼**ï¼š

```typescript
import { formatDate } from '@/app/lib/utils'
import { db } from '@/app/lib/db'
```

---

#### 5. `app/types/` ç›®å½• - ç±»å‹å®šä¹‰

**ä½œç”¨**ï¼šå­˜æ”¾ TypeScript ç±»å‹å®šä¹‰ã€‚

**è§„èŒƒ**ï¼š

- âœ… æ”¾åœ¨ `app/` å†…éƒ¨
- âœ… æŒ‰åŠŸèƒ½æ¨¡å—æ‹†åˆ†æ–‡ä»¶
- âœ… ç»Ÿä¸€ä» `index.ts` å¯¼å‡º

**ç¤ºä¾‹ç»“æ„**ï¼š

```text
app/types/
â”œâ”€â”€ index.ts              # ç»Ÿä¸€å¯¼å‡º
â”œâ”€â”€ user.ts               # ç”¨æˆ·ç›¸å…³ç±»å‹
â””â”€â”€ post.ts               # æ–‡ç« ç›¸å…³ç±»å‹
```

**å¯¼å…¥æ–¹å¼**ï¼š

```typescript
import type { User, Post } from '@/app/types'
```

---

#### 6. `app/api/` ç›®å½• - API è·¯ç”±

**ä½œç”¨**ï¼šåˆ›å»ºåç«¯ API è·¯ç”±ã€‚

**è§„èŒƒ**ï¼š

- âœ… æ¯ä¸ªæ–‡ä»¶å¤¹å¯¹åº”ä¸€ä¸ª API ç«¯ç‚¹
- âœ… å¿…é¡»åŒ…å« `route.ts` æ–‡ä»¶
- âœ… æ”¯æŒ HTTP æ–¹æ³•ï¼ˆGETã€POSTã€PUTã€DELETE ç­‰ï¼‰

**ç¤ºä¾‹ç»“æ„**ï¼š

```text
app/api/
â”œâ”€â”€ users/
â”‚   â””â”€â”€ route.ts          # APIï¼š/api/users
â””â”€â”€ posts/
    â””â”€â”€ route.ts          # APIï¼š/api/posts
```

**ç¤ºä¾‹ä»£ç **ï¼š

```typescript
// app/api/users/route.ts
export async function GET() {
  return Response.json({ users: [] })
}

export async function POST(request: Request) {
  const body = await request.json()
  return Response.json({ success: true })
}
```

---

#### 7. `app/hooks/` ç›®å½• - è‡ªå®šä¹‰ Hooks

**ä½œç”¨**ï¼šå­˜æ”¾è‡ªå®šä¹‰ React Hooksï¼ˆä»…å®¢æˆ·ç«¯ï¼‰ã€‚

**è§„èŒƒ**ï¼š

- âœ… æ”¾åœ¨ `app/` å†…éƒ¨
- âœ… æ–‡ä»¶åä»¥ `use` å¼€å¤´
- âœ… å¿…é¡»æ˜¯å®¢æˆ·ç«¯ç»„ä»¶ï¼ˆä½¿ç”¨ `'use client'`ï¼‰

**ç¤ºä¾‹**ï¼š

```typescript
// app/hooks/useAuth.ts
'use client'

import { useState } from 'react'

export function useAuth() {
  const [user, setUser] = useState(null)
  // ...
  return { user, login, logout }
}
```

---

#### 8. `public/` ç›®å½• - é™æ€èµ„æº

**ä½œç”¨**ï¼šå­˜æ”¾é™æ€èµ„æºæ–‡ä»¶ã€‚

**è§„èŒƒ**ï¼š

- âœ… æ”¾åœ¨é¡¹ç›®æ ¹ç›®å½•
- âœ… æŒ‰èµ„æºç±»å‹ç»„ç»‡ï¼ˆ`images/`ã€`icons/`ã€`fonts/`ï¼‰
- âœ… å¯é€šè¿‡ `/æ–‡ä»¶å` ç›´æ¥è®¿é—®

**ç¤ºä¾‹ç»“æ„**ï¼š

```text
public/
â”œâ”€â”€ images/
â”‚   â””â”€â”€ logo.png
â”œâ”€â”€ icons/
â”‚   â””â”€â”€ favicon.ico
â””â”€â”€ fonts/
    â””â”€â”€ custom-font.woff2
```

**ä½¿ç”¨æ–¹å¼**ï¼š

```typescript
// åœ¨ç»„ä»¶ä¸­ä½¿ç”¨
<img src="/images/logo.png" alt="Logo" />
```

---

### ç‰¹æ®Šæ–‡ä»¶è¯´æ˜

#### Next.js ç‰¹æ®Šæ–‡ä»¶ï¼ˆå¿…é¡»åœ¨ `app/` ç›®å½•ä¸‹ï¼‰

| æ–‡ä»¶å | ä½œç”¨ | ä½ç½® |
|--------|------|------|
| `page.tsx` | å®šä¹‰é¡µé¢å†…å®¹ | æ¯ä¸ªè·¯ç”±æ–‡ä»¶å¤¹å¿…é¡»æœ‰ä¸€ä¸ª |
| `layout.tsx` | å®šä¹‰å¸ƒå±€ç»“æ„ | æ ¹ç›®å½•æˆ–è·¯ç”±æ–‡ä»¶å¤¹ |
| `loading.tsx` | åŠ è½½çŠ¶æ€ | æ ¹ç›®å½•æˆ–è·¯ç”±æ–‡ä»¶å¤¹ |
| `error.tsx` | é”™è¯¯é¡µé¢ | æ ¹ç›®å½•æˆ–è·¯ç”±æ–‡ä»¶å¤¹ |
| `not-found.tsx` | 404 é¡µé¢ | æ ¹ç›®å½• |
| `route.ts` | API è·¯ç”±å¤„ç†ç¨‹åº | `app/api/` ç›®å½•ä¸‹ |

---

### ç»„ä»¶ç»„ç»‡æœ€ä½³å®è·µ

#### åˆ¤æ–­ç»„ä»¶åº”è¯¥æ”¾åœ¨å“ªé‡Œï¼Ÿ

**æ”¾åœ¨ `app/components/`ï¼ˆå…±äº«ç»„ä»¶ï¼‰**ï¼š

- âœ… ç»„ä»¶åœ¨ 2 ä¸ªæˆ–æ›´å¤šè·¯ç”±ä¸­ä½¿ç”¨
- âœ… ç»„ä»¶æ˜¯é€šç”¨çš„ UI å…ƒç´ ï¼ˆButtonã€Inputã€Cardï¼‰
- âœ… ç»„ä»¶åç§°ä¸åŒ…å«ç‰¹å®šè·¯ç”±å‰ç¼€

**æ”¾åœ¨è·¯ç”±æ–‡ä»¶å¤¹å†…ï¼ˆå±€éƒ¨ç»„ä»¶ï¼‰**ï¼š

- âœ… ç»„ä»¶åªç”¨äºè¯¥è·¯ç”±
- âœ… ç»„ä»¶åŒ…å«è¯¥è·¯ç”±ç‰¹å®šçš„ä¸šåŠ¡é€»è¾‘
- âœ… ç»„ä»¶åç§°åŒ…å«è·¯ç”±å‰ç¼€ï¼ˆå¦‚ `AboutHeader`ï¼‰

#### ç¤ºä¾‹å¯¹æ¯”

```text
âœ… æ­£ç¡®ç»“æ„ï¼š

app/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ ui/
â”‚   â”‚   â””â”€â”€ Button.tsx        # é€šç”¨æŒ‰é’®ï¼ˆå¤šä¸ªé¡µé¢ä½¿ç”¨ï¼‰
â”‚   â””â”€â”€ layout/
â”‚       â””â”€â”€ Header.tsx         # å…¨å±€å¯¼èˆªæ ï¼ˆæ‰€æœ‰é¡µé¢ä½¿ç”¨ï¼‰
â”œâ”€â”€ about/
â”‚   â”œâ”€â”€ page.tsx
â”‚   â””â”€â”€ AboutHero.tsx          # åªç”¨äº about é¡µé¢
â””â”€â”€ blog/
    â”œâ”€â”€ page.tsx
    â””â”€â”€ BlogPostList.tsx       # åªç”¨äº blog é¡µé¢
```

```text
âŒ é”™è¯¯ç»“æ„ï¼š

# 1. components ä¸ app åŒçº§
components/          # âŒ ä¸æ¨è
app/

# 2. åœ¨è·¯ç”±æ–‡ä»¶å¤¹å†…åˆ›å»º components å­ç›®å½•
app/blog/[id]/
â”œâ”€â”€ components/      # âŒ ä¸æ¨è
â”‚   â””â”€â”€ BlogHeader.tsx
â””â”€â”€ page.tsx
```

---

### å¯¼å…¥è·¯å¾„è§„èŒƒ

#### ä½¿ç”¨è·¯å¾„åˆ«å `@/`

```typescript
// âœ… æ¨èï¼šä½¿ç”¨è·¯å¾„åˆ«å
import Button from '@/app/components/ui/Button'
import { formatDate } from '@/app/lib/utils'
import type { User } from '@/app/types'

// âŒ ä¸æ¨èï¼šç›¸å¯¹è·¯å¾„
import Button from '../../../components/ui/Button'
```

#### å±€éƒ¨ç»„ä»¶ä½¿ç”¨ç›¸å¯¹è·¯å¾„

```typescript
// âœ… æ¨èï¼šå±€éƒ¨ç»„ä»¶ä½¿ç”¨ç›¸å¯¹è·¯å¾„
// app/blog/page.tsx
import BlogList from './BlogList'

// app/blog/[slug]/page.tsx
import BlogHeader from './BlogHeader'
```

---

### å‘½åè§„èŒƒ

#### ç»„ä»¶æ–‡ä»¶å‘½å

```typescript
// âœ… æ¨èï¼šPascalCase
Button.tsx
UserProfile.tsx
BlogPostCard.tsx

// âŒ ä¸æ¨è
button.tsx
user-profile.tsx
```

#### å·¥å…·å‡½æ•°æ–‡ä»¶å‘½å

```typescript
// âœ… æ¨èï¼šcamelCase
utils.ts
formatDate.ts
validateEmail.ts

// âŒ ä¸æ¨è
Utils.ts
format-date.ts
```

#### ç»„ä»¶å‘½åè§„èŒƒ

```typescript
// å…±äº«ç»„ä»¶ï¼šé€šç”¨å‘½å
app/components/ui/Button.tsx
app/components/ui/Card.tsx

// å±€éƒ¨ç»„ä»¶ï¼šå¸¦è·¯ç”±å‰ç¼€
app/about/AboutHeader.tsx
app/blog/BlogPostList.tsx
```

---

### å¸¸è§é—®é¢˜è§£ç­”

#### Q1: `components/` å¿…é¡»æ”¾åœ¨ `app/` é‡Œé¢å—ï¼Ÿ

**A**: æ˜¯çš„ï¼Œæ¨èæ”¾åœ¨ `app/` å†…éƒ¨ã€‚åŸå› ï¼š

- ç¬¦åˆ Next.js å®˜æ–¹çº¦å®š
- è·¯å¾„åˆ«åç»Ÿä¸€ï¼ˆ`@/app/components/...`ï¼‰
- ä»£ç ç»„ç»‡æ›´æ¸…æ™°

#### Q2: å¯ä»¥åœ¨è·¯ç”±æ–‡ä»¶å¤¹å†…åˆ›å»º `components/` å­ç›®å½•å—ï¼Ÿ

**A**: ä¸æ¨èã€‚åº”è¯¥ç›´æ¥æ”¾åœ¨è·¯ç”±æ–‡ä»¶å¤¹å†…ï¼š

```text
âœ… æ¨èï¼š
app/blog/[id]/
â”œâ”€â”€ BlogHeader.tsx
â””â”€â”€ page.tsx

âŒ ä¸æ¨èï¼š
app/blog/[id]/
â”œâ”€â”€ components/
â”‚   â””â”€â”€ BlogHeader.tsx
â””â”€â”€ page.tsx
```

#### Q3: è·¯ç”±æ–‡ä»¶å¤¹å†…çš„ç»„ä»¶å¯ä»¥è·¨è·¯ç”±ä½¿ç”¨å—ï¼Ÿ

**A**: æŠ€æœ¯ä¸Šå¯ä»¥ï¼Œä½†ä¸æ¨èã€‚å¦‚æœéœ€è¦åœ¨å¤šä¸ªè·¯ç”±ä½¿ç”¨ï¼Œåº”è¯¥ç§»åˆ° `app/components/`ã€‚

#### Q4: å¦‚ä½•åˆ¤æ–­ç»„ä»¶åº”è¯¥æ”¾åœ¨å“ªé‡Œï¼Ÿ

**A**:

- éœ€è¦è·¨è·¯ç”±å¤ç”¨ â†’ `app/components/`
- åªç”¨äºä¸€ä¸ªè·¯ç”± â†’ è·¯ç”±æ–‡ä»¶å¤¹å†…

---

## 3. è·¯å¾„åˆ«åé…ç½®

### 3.1 é»˜è®¤è·¯å¾„åˆ«å

Next.js é»˜è®¤é…ç½®äº† `@/` åˆ«åï¼ŒæŒ‡å‘é¡¹ç›®æ ¹ç›®å½•ï¼š

```typescript
// ä½¿ç”¨è·¯å¾„åˆ«å
import Button from '@/app/components/Button'
import { fetchData } from '@/app/utils/api'

// è€Œä¸æ˜¯ç›¸å¯¹è·¯å¾„
import Button from '../../components/Button'
import { fetchData } from '../utils/api'
```

### 3.2 é…ç½®è·¯å¾„åˆ«å

è·¯å¾„åˆ«ååœ¨ `tsconfig.json` ä¸­é…ç½®ï¼š

```json
{
  "compilerOptions": {
    "paths": {
      "@/*": ["./*"]
    }
  }
}
```

### 3.3 ä½¿ç”¨è·¯å¾„åˆ«åçš„å¥½å¤„

- âœ… ä»£ç æ›´æ¸…æ™°ï¼Œé¿å… `../../../` è¿™æ ·çš„ç›¸å¯¹è·¯å¾„
- âœ… é‡æ„æ—¶æ›´å®¹æ˜“ï¼Œç§»åŠ¨æ–‡ä»¶ä¸éœ€è¦ä¿®æ”¹å¯¼å…¥è·¯å¾„
- âœ… æé«˜ä»£ç å¯è¯»æ€§

---

## 4. App Router vs Pages Router

### 4.1 ä¸ºä»€ä¹ˆä½¿ç”¨ App Routerï¼Ÿ

Next.js 13+ å¼•å…¥äº† **App Router**ï¼Œè¿™æ˜¯æ¨èçš„æ–°æ¶æ„ï¼š

- âœ… **æ›´å¥½çš„æ€§èƒ½**ï¼šæ”¯æŒ React Server Components
- âœ… **æ›´çµæ´»çš„è·¯ç”±**ï¼šæ”¯æŒåµŒå¥—å¸ƒå±€ã€å¹¶è¡Œè·¯ç”±ç­‰
- âœ… **æ›´å¥½çš„æ•°æ®è·å–**ï¼šæ”¯æŒæµå¼æ¸²æŸ“ã€Suspense
- âœ… **æ›´ç®€æ´çš„ API**ï¼šä½¿ç”¨ `async/await` åœ¨ç»„ä»¶ä¸­è·å–æ•°æ®

### 4.2 App Router vs Pages Router å¯¹æ¯”

| ç‰¹æ€§ | App Router | Pages Router |
|------|-----------|--------------|
| æ–‡ä»¶ä½ç½® | `app/` ç›®å½• | `pages/` ç›®å½• |
| è·¯ç”±æ–‡ä»¶ | `page.tsx` | `index.tsx` æˆ–æ–‡ä»¶å |
| å¸ƒå±€æ–‡ä»¶ | `layout.tsx` | `_app.tsx` |
| æ•°æ®è·å– | ç»„ä»¶ä¸­ç›´æ¥ `async` | `getServerSideProps` ç­‰ |
| é»˜è®¤ç»„ä»¶ç±»å‹ | æœåŠ¡ç«¯ç»„ä»¶ | å®¢æˆ·ç«¯ç»„ä»¶ |

### 4.3 æ–‡ä»¶ç³»ç»Ÿè·¯ç”±å·¥ä½œåŸç†

åœ¨ App Router ä¸­ï¼Œ**æ–‡ä»¶å¤¹ç»“æ„ = è·¯ç”±è·¯å¾„**ï¼š

```text
app/
â”œâ”€â”€ page.tsx              â†’ /
â”œâ”€â”€ about/
â”‚   â””â”€â”€ page.tsx          â†’ /about
â”œâ”€â”€ blog/
â”‚   â”œâ”€â”€ page.tsx          â†’ /blog
â”‚   â””â”€â”€ [id]/
â”‚       â””â”€â”€ page.tsx      â†’ /blog/[id]
â””â”€â”€ contact/
    â””â”€â”€ page.tsx          â†’ /contact
```

---

## 5. æœåŠ¡ç«¯ç»„ä»¶ vs å®¢æˆ·ç«¯ç»„ä»¶

### 5.1 é»˜è®¤ï¼šæœåŠ¡ç«¯ç»„ä»¶

åœ¨ App Router ä¸­ï¼Œ**é»˜è®¤æ‰€æœ‰ç»„ä»¶éƒ½æ˜¯æœåŠ¡ç«¯ç»„ä»¶**ï¼š

```typescript
// app/components/ServerComponent.tsx
// è¿™æ˜¯ä¸€ä¸ªæœåŠ¡ç«¯ç»„ä»¶ï¼ˆé»˜è®¤ï¼‰
export default function ServerComponent() {
  // å¯ä»¥ç›´æ¥è®¿é—®æ•°æ®åº“ã€æ–‡ä»¶ç³»ç»Ÿç­‰
  const data = await fetch('https://api.example.com/data')
  
  return <div>{data.title}</div>
}
```

**æœåŠ¡ç«¯ç»„ä»¶çš„ç‰¹ç‚¹ï¼š**

- âœ… åœ¨æœåŠ¡å™¨ä¸Šè¿è¡Œï¼Œå‡å°‘å®¢æˆ·ç«¯ JavaScript ä½“ç§¯
- âœ… å¯ä»¥ç›´æ¥è®¿é—®æ•°æ®åº“ã€æ–‡ä»¶ç³»ç»Ÿã€ç¯å¢ƒå˜é‡
- âœ… æ›´å¿«çš„é¦–å±åŠ è½½
- âŒ ä¸èƒ½ä½¿ç”¨æµè§ˆå™¨ APIï¼ˆå¦‚ `window`ã€`localStorage`ï¼‰
- âŒ ä¸èƒ½ä½¿ç”¨ React Hooksï¼ˆå¦‚ `useState`ã€`useEffect`ï¼‰
- âŒ ä¸èƒ½ä½¿ç”¨äº‹ä»¶å¤„ç†å™¨ï¼ˆå¦‚ `onClick`ï¼‰

### 5.2 å®¢æˆ·ç«¯ç»„ä»¶ï¼šä½¿ç”¨ `'use client'`

å½“éœ€è¦äº¤äº’æ€§æ—¶ï¼Œä½¿ç”¨ `'use client'` æŒ‡ä»¤ï¼š

```typescript
// app/components/ClientComponent.tsx
'use client'  // å¿…é¡»æ”¾åœ¨æ–‡ä»¶é¡¶éƒ¨

import { useState } from 'react'

export default function ClientComponent() {
  const [count, setCount] = useState(0)
  
  return (
    <button onClick={() => setCount(count + 1)}>
      ç‚¹å‡»æ¬¡æ•°: {count}
    </button>
  )
}
```

**å®¢æˆ·ç«¯ç»„ä»¶çš„ç‰¹ç‚¹ï¼š**

- âœ… å¯ä»¥ä½¿ç”¨ React Hooks
- âœ… å¯ä»¥ä½¿ç”¨äº‹ä»¶å¤„ç†å™¨
- âœ… å¯ä»¥è®¿é—®æµè§ˆå™¨ API
- âŒ å¢åŠ å®¢æˆ·ç«¯ JavaScript ä½“ç§¯
- âŒ ä¸èƒ½ç›´æ¥è®¿é—®æ•°æ®åº“æˆ–æ–‡ä»¶ç³»ç»Ÿ

### 5.3 ä½•æ—¶ä½¿ç”¨å“ªç§ç»„ä»¶ï¼Ÿ

**ä½¿ç”¨æœåŠ¡ç«¯ç»„ä»¶ï¼š**

- è·å–æ•°æ®
- è®¿é—®åç«¯èµ„æºï¼ˆæ•°æ®åº“ã€APIï¼‰
- ä¿æŒæ•æ„Ÿä¿¡æ¯åœ¨æœåŠ¡å™¨ä¸Šï¼ˆAPI å¯†é’¥ã€ä»¤ç‰Œç­‰ï¼‰
- å‡å°‘å®¢æˆ·ç«¯ JavaScript ä½“ç§¯

**ä½¿ç”¨å®¢æˆ·ç«¯ç»„ä»¶ï¼š**

- æ·»åŠ äº¤äº’æ€§ï¼ˆonClickã€onChange ç­‰ï¼‰
- ä½¿ç”¨ React Hooksï¼ˆuseStateã€useEffect ç­‰ï¼‰
- ä½¿ç”¨æµè§ˆå™¨ APIï¼ˆlocalStorageã€window ç­‰ï¼‰
- ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“ï¼ˆéœ€è¦å®¢æˆ·ç«¯äº¤äº’çš„ï¼‰

### 5.4 å®è·µï¼šåˆ›å»ºæœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯ç»„ä»¶

**æœåŠ¡ç«¯ç»„ä»¶ç¤ºä¾‹ï¼š**

```typescript
// app/components/ServerData.tsx
export default async function ServerData() {
  // åœ¨æœåŠ¡ç«¯è·å–æ•°æ®
  const res = await fetch('https://api.example.com/data', {
    cache: 'no-store' // ç¦ç”¨ç¼“å­˜
  })
  const data = await res.json()
  
  return <div>æœåŠ¡ç«¯æ•°æ®: {data.title}</div>
}
```

**å®¢æˆ·ç«¯ç»„ä»¶ç¤ºä¾‹ï¼š**

```typescript
// app/components/Counter.tsx
'use client'

import { useState } from 'react'

export default function Counter() {
  const [count, setCount] = useState(0)
  
  return (
    <div>
      <p>è®¡æ•°: {count}</p>
      <button onClick={() => setCount(count + 1)}>å¢åŠ </button>
      <button onClick={() => setCount(count - 1)}>å‡å°‘</button>
    </div>
  )
}
```

---

## 6. ç†è§£ Layout å’Œ Page

> ğŸ“– **è¯¦ç»†è®²è§£**ï¼šè¯·æŸ¥çœ‹ [Layout å’Œ Page è¯¦ç»†è®²è§£.md](./Layout%20å’Œ%20Page%20è¯¦ç»†è®²è§£.md)

æœ¬æ–‡æ¡£åŒ…å« Layout å’Œ Page çš„å®Œæ•´è®²è§£ï¼Œæ¶µç›–ï¼š

- Layoutï¼ˆå¸ƒå±€ï¼‰è¯¦è§£ï¼šåŸºæœ¬æ¦‚å¿µã€å…³é”®ç‰¹ç‚¹ã€æ ¹ Layout çš„ç‰¹æ®Šè¦æ±‚
- Pageï¼ˆé¡µé¢ï¼‰è¯¦è§£ï¼šåŸºæœ¬æ¦‚å¿µã€å…³é”®ç‰¹ç‚¹ã€æ•°æ®è·å–æ–¹å¼
- Layout å’Œ Page çš„åŒºåˆ«ï¼šå¯¹æ¯”è¡¨ã€æ¸²æŸ“æ—¶æœºã€ä½¿ç”¨åœºæ™¯
- åµŒå¥—å¸ƒå±€çš„å·¥ä½œåŸç†ï¼šåµŒå¥—æ¦‚å¿µã€æ–‡ä»¶ç»“æ„ã€æ¸²æŸ“é¡ºåºã€å®Œæ•´ç¤ºä¾‹
- æ¯ä¸ªè·¯ç”±æ–‡ä»¶å¤¹çš„ Layout å’Œ Pageï¼šæ ¸å¿ƒè§„åˆ™ã€å®é™…ç¤ºä¾‹
- å®é™…åº”ç”¨ç¤ºä¾‹ï¼šåšå®¢ç½‘ç«™ã€ç”µå•†ç½‘ç«™ã€å®Œæ•´ä»£ç ç¤ºä¾‹
- Layout å’Œ Page ä¹‹é—´çš„é€šä¿¡ï¼šContext APIã€URL å‚æ•°ã€çŠ¶æ€ç®¡ç†åº“ç­‰æ–¹æ³•
- æœ€ä½³å®è·µï¼šä½•æ—¶ä½¿ç”¨åµŒå¥— Layoutã€Layout å’Œ Page çš„æœ€ä½³å®è·µã€æ€§èƒ½ä¼˜åŒ–å»ºè®®

### å¿«é€Ÿè¦ç‚¹

- **Layout**ï¼šå…±äº«çš„å¸ƒå±€ç»“æ„ï¼Œè·¯ç”±åˆ‡æ¢æ—¶ä¸ä¼šé‡æ–°æ¸²æŸ“ï¼Œä¼šåµŒå¥—
- **Page**ï¼šé¡µé¢çš„å…·ä½“å†…å®¹ï¼Œè·¯ç”±åˆ‡æ¢æ—¶ä¼šé‡æ–°æ¸²æŸ“ï¼Œä¸ä¼šåµŒå¥—
- **æ¯ä¸ªè·¯ç”±æ–‡ä»¶å¤¹**ï¼šéƒ½å¯ä»¥æœ‰è‡ªå·±çš„ `page.tsx` å’Œ `layout.tsx`

---

## 7. æ€»ç»“

### å…³é”®æ¦‚å¿µå›é¡¾

1. **App Router**ï¼šNext.js 13+ çš„æ–°è·¯ç”±ç³»ç»Ÿï¼ŒåŸºäº `app/` ç›®å½•
2. **æœåŠ¡ç«¯ç»„ä»¶**ï¼šé»˜è®¤ç»„ä»¶ç±»å‹ï¼Œåœ¨æœåŠ¡å™¨ä¸Šè¿è¡Œï¼Œå‡å°‘å®¢æˆ·ç«¯ JavaScript
3. **å®¢æˆ·ç«¯ç»„ä»¶**ï¼šä½¿ç”¨ `'use client'`ï¼Œæ”¯æŒäº¤äº’æ€§å’Œ React Hooks
4. **Layout**ï¼šå…±äº«çš„å¸ƒå±€ç»“æ„ï¼Œè·¯ç”±åˆ‡æ¢æ—¶ä¸é‡æ–°æ¸²æŸ“
5. **Page**ï¼šé¡µé¢çš„å…·ä½“å†…å®¹ï¼Œæ¯ä¸ªè·¯ç”±å¿…é¡»æœ‰ä¸€ä¸ª `page.tsx`

### æœ€ä½³å®è·µ

- âœ… é»˜è®¤ä½¿ç”¨æœåŠ¡ç«¯ç»„ä»¶ï¼Œåªåœ¨éœ€è¦äº¤äº’æ—¶ä½¿ç”¨å®¢æˆ·ç«¯ç»„ä»¶
- âœ… ä½¿ç”¨è·¯å¾„åˆ«å `@/` æé«˜ä»£ç å¯è¯»æ€§
- âœ… åˆç†ä½¿ç”¨åµŒå¥—å¸ƒå±€ç»„ç»‡é¡µé¢ç»“æ„
- âœ… åœ¨æœåŠ¡ç«¯ç»„ä»¶ä¸­è·å–æ•°æ®ï¼Œå‡å°‘å®¢æˆ·ç«¯è´Ÿæ‹…

### ä¸‹ä¸€æ­¥

å®Œæˆç¬¬ä¸€é˜¶æ®µåï¼Œå¯ä»¥è¿›å…¥ç¬¬äºŒé˜¶æ®µï¼š**è·¯ç”±ç³»ç»Ÿ**ï¼Œå­¦ä¹ é™æ€è·¯ç”±ã€åŠ¨æ€è·¯ç”±ã€è·¯ç”±ç»„ç­‰é«˜çº§è·¯ç”±åŠŸèƒ½ã€‚

---

**å­¦ä¹ è¿›åº¦ï¼š** âœ… ç¬¬ä¸€é˜¶æ®µå®Œæˆ
