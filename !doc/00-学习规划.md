# Next.js 学习规划

> 目标：完成一个包含前后端和 SQLite 数据库的完整实战项目

---

## 📚 第一阶段：基础概念（1-2天）

### ✅ 已完成

- [x] Next.js 简介与环境搭建
- [x] 项目结构理解
- [x] 路径别名配置

### 📝 待学习

- [ ] **理解 App Router vs Pages Router**
  - 了解为什么使用 App Router
  - 理解文件系统路由的工作原理
  
- [ ] **服务端组件 vs 客户端组件**
  - 理解默认的服务端组件
  - 学习何时使用 `'use client'`
  - 实践：创建一个服务端组件和客户端组件

- [ ] **理解 Layout 和 Page**
  - 掌握 `layout.tsx` 的作用
  - 掌握 `page.tsx` 的作用
  - 理解嵌套布局

---

## 🛣️ 第二阶段：路由系统（2-3天）

- [ ] **静态路由**
  - 创建 `app/about/page.tsx`
  - 创建 `app/contact/page.tsx`
  - 理解文件夹结构 = 路由路径

- [ ] **动态路由**
  - 创建 `app/blog/[id]/page.tsx`
  - 学习 `params` 的使用
  - 实践：创建一个博客详情页

- [ ] **路由组（Route Groups）**
  - 理解 `(marketing)` 和 `(shop)` 的用法
  - 实践：组织不同功能模块的路由

- [ ] **并行路由和拦截路由**
  - 学习 `@folder` 语法
  - 理解 `(.)` 和 `(..)` 拦截路由

- [ ] **导航**
  - 使用 `next/link` 进行客户端导航
  - 使用 `useRouter` 进行编程式导航
  - 实践：创建导航栏组件

---

## 🧩 第三阶段：组件开发（2-3天）

- [ ] **创建组件目录结构**
  - 创建 `app/components/` 目录
  - 创建基础组件：`Button.tsx`、`Card.tsx`、`Input.tsx`

- [ ] **服务端组件实践**
  - 创建服务端组件获取数据
  - 理解服务端组件的限制

- [ ] **客户端组件实践**
  - 使用 React Hooks（useState, useEffect）
  - 创建交互式组件（表单、计数器等）
  - 实践：创建一个待办事项组件

- [ ] **组件组合模式**
  - 学习组件 props 传递
  - 理解 children 的使用
  - 实践：创建可复用的布局组件

- [ ] **样式管理**
  - 深入理解 Tailwind CSS
  - 创建样式工具函数
  - 实践：美化现有页面

---

## 📡 第四阶段：数据获取（2-3天）

- [ ] **服务端数据获取**
  - 使用 `fetch` 在服务端组件中获取数据
  - 理解 `async/await` 在组件中的使用
  - 实践：从 API 获取数据并渲染

- [ ] **数据缓存和重新验证**
  - 理解 Next.js 的缓存机制
  - 学习 `revalidate` 选项
  - 实践：配置数据缓存策略

- [ ] **加载状态和错误处理**
  - 创建 `loading.tsx` 文件
  - 创建 `error.tsx` 文件
  - 实践：添加加载和错误状态

- [ ] **流式渲染（Streaming）**
  - 使用 `Suspense` 组件
  - 理解部分页面渲染
  - 实践：优化页面加载体验

---

## 🔌 第五阶段：API 路由（2-3天）

- [ ] **创建 API 路由**
  - 创建 `app/api/hello/route.ts`
  - 理解 Route Handlers
  - 学习 GET、POST、PUT、DELETE 方法

- [ ] **请求和响应处理**
  - 解析请求体（Request Body）
  - 设置响应头
  - 返回 JSON 数据
  - 实践：创建用户注册 API

- [ ] **中间件（Middleware）**
  - 创建 `middleware.ts`
  - 理解请求拦截和修改
  - 实践：添加身份验证中间件

- [ ] **API 路由最佳实践**
  - 错误处理
  - 数据验证
  - 实践：完善 API 路由

---

## 🗄️ 第六阶段：数据库集成（3-4天）

- [ ] **SQLite 数据库设置**
  - 安装 SQLite 相关依赖（如 `better-sqlite3` 或 `drizzle-orm`）
  - 创建数据库连接文件
  - 理解数据库初始化

- [ ] **数据库操作（CRUD）**
  - 创建表结构
  - 实现创建（Create）操作
  - 实现读取（Read）操作
  - 实现更新（Update）操作
  - 实现删除（Delete）操作
  - 实践：创建用户表并实现 CRUD

- [ ] **ORM 使用（可选但推荐）**
  - 学习 Drizzle ORM 或 Prisma
  - 定义数据模型（Schema）
  - 使用 ORM 进行数据库操作
  - 实践：使用 ORM 重构数据库操作

- [ ] **数据库迁移**
  - 理解迁移的概念
  - 创建和管理迁移文件
  - 实践：添加新字段到现有表

- [ ] **数据库查询优化**
  - 学习索引的使用
  - 理解查询性能
  - 实践：优化慢查询

---

## 🔐 第七阶段：身份验证和授权（2-3天）

- [ ] **实现用户注册**
  - 创建注册页面
  - 创建注册 API
  - 密码加密（使用 bcrypt）
  - 实践：完成用户注册功能

- [ ] **实现用户登录**
  - 创建登录页面
  - 创建登录 API
  - Session 管理（使用 JWT 或 NextAuth.js）
  - 实践：完成用户登录功能

- [ ] **保护路由**
  - 创建受保护的路由
  - 实现路由守卫
  - 实践：创建需要登录才能访问的页面

- [ ] **用户状态管理**
  - 使用 Context API 或状态管理库
  - 在客户端和服务端获取用户信息
  - 实践：创建用户资料页面

---

## 🎨 第八阶段：UI/UX 优化（2-3天）

- [ ] **表单处理**
  - 使用 React Hook Form
  - 表单验证
  - 错误提示
  - 实践：创建完整的表单页面

- [ ] **状态管理**
  - 客户端状态管理（useState, useReducer）
  - 服务端状态管理（Server Actions）
  - 实践：实现全局状态管理

- [ ] **图片优化**
  - 使用 `next/image` 组件
  - 图片懒加载
  - 实践：添加图片到页面

- [ ] **SEO 优化**
  - 设置 metadata
  - 添加 Open Graph 标签
  - 实践：优化页面的 SEO

---

## 🚀 第九阶段：实战项目开发（5-7天）

### 项目选择建议

选择一个完整的项目，例如：

- **待办事项应用（Todo App）**
- **博客系统**
- **简单的电商网站**
- **个人财务管理应用**

### 项目功能清单

- [ ] **项目规划**
  - 确定项目功能需求
  - 设计数据库表结构
  - 规划页面和路由

- [ ] **数据库设计**
  - 创建所有必要的表
  - 建立表之间的关系
  - 添加初始数据（Seed Data）

- [ ] **后端 API 开发**
  - 实现所有 CRUD API
  - 添加数据验证
  - 实现错误处理
  - 添加身份验证

- [ ] **前端页面开发**
  - 创建所有页面
  - 实现页面交互
  - 添加加载和错误状态
  - 实现表单提交

- [ ] **功能集成**
  - 连接前端和后端
  - 测试所有功能
  - 修复 bug

- [ ] **优化和部署**
  - 性能优化
  - 代码优化
  - 准备部署（可选）

---

## 📦 第十阶段：高级特性（可选，3-4天）

- [ ] **Server Actions**
  - 理解 Server Actions 的概念
  - 在表单中使用 Server Actions
  - 实践：使用 Server Actions 替代 API 路由

- [ ] **文件上传**
  - 实现文件上传功能
  - 文件存储（本地或云存储）
  - 实践：添加头像上传功能

- [ ] **实时功能**
  - 使用 WebSockets 或 Server-Sent Events
  - 实现实时通知
  - 实践：添加实时消息功能

- [ ] **国际化（i18n）**
  - 配置多语言支持
  - 实现语言切换
  - 实践：添加中英文切换

- [ ] **测试**
  - 单元测试
  - 集成测试
  - E2E 测试
  - 实践：为项目添加测试

---

## 📝 学习建议

1. **循序渐进**：按照顺序完成每个阶段，不要跳跃
2. **动手实践**：每学一个概念，立即写代码实践
3. **做笔记**：在 `!doc` 目录下记录学习心得
4. **遇到问题**：查看官方文档、搜索解决方案、记录问题
5. **定期回顾**：完成一个阶段后，回顾并总结

---

## 🎯 最终目标

完成一个完整的全栈应用，包含：

- ✅ 前端页面（多个页面，良好的 UI/UX）
- ✅ 后端 API（完整的 CRUD 操作）
- ✅ 数据库（SQLite，多个表，表关系）
- ✅ 身份验证（注册、登录、权限控制）
- ✅ 数据验证和错误处理
- ✅ 良好的代码组织和结构

---

## 📅 预计学习时间

- **基础阶段**：5-7 天
- **进阶阶段**：10-12 天
- **实战项目**：5-7 天
- **总计**：20-26 天（约 3-4 周）

---

## 💪 开始学习

开始学习吧！加油！
